// Starting from zero the natural numbers are written down in base 10 like this:
//      0 1 2 3 4 5 6 7 8 9 10 11 12 ...
// Consider the digit d=1.  After we write down each number, we will update the
// number of ones that have occurredand call this number f(n, 1).
// The first values for f(n, 1), then, are as follows:
//
//                  n   f(n, 1)
//                  0      0
//                  1      1
//                  2      1
//                  3      1
//                  4      1
//                  5      1
//                  6      1
//                  7      1
//                  8      1
//                  9      1
//                 10      2
//                 11      4
//                 12      5
//
// Note that f(n, 1)never equals 3.
// So the first two solutions of the equation f(n, 1) = n are n=0 and n=1.
// The next solution is n=199981.
//
// In the same manner the function f(n, d) gives the total number of digits d that
// have been written down after the number n has been written.
// In fact, for every digit d!=0, 0 is the first solution of the equation
//      f(n, d) = n
//
// Let s(d) be the sum of all the solutions for which f(n, d) = n.
// You are given that s(1) = 22786974071.
//
// Find  sum(s(d)) for 1 <= d <= 9.
//
// Note: if, for somen, f(n, d) = n for more than one value of d this value of n
// is counted again for every value of d for which f(n, d) = n.


#include <array>
#include <iostream>
#include <numeric>
#include <vector>


using DigitCounts = std::array<int64_t, 10>;
using Solutions = std::vector<int64_t>;
using AllSolutions = std::array<Solutions, 10>;


AllSolutions solve(int64_t max_n) {
    AllSolutions ret;

    for (size_t d = 0; d < 10; ++d) {
        ret[0].push_back(0);
    }

    DigitCounts counts{ 0, 0, 0, 0, 0, 0, 0, 0, 0, 0 };

    for (int64_t n = 1; n <= max_n; ++n) {
        int64_t tmp{ n };
        while (tmp > 0) {
            const int64_t dig = tmp % 10;
            ++counts[dig];

            tmp /= 10;
        }

        for (size_t d = 0; d < 10; ++d) {
            if (counts[d] == n) {
                ret[d].push_back(n);
                std::cout << d << "\t" << n << std::endl;
            }
        }
    }

    return ret;
}



int main()
{
    std::cout << "Hello World!\n";

    {
        auto ans = solve(100'000'000'000);
        //for (const auto& a : ans)
        //    std::cout << a << std::endl;
        for (size_t d = 0; d < 10; ++d) {
            std::cout << "s(" << d << ") has " << ans[d].size() << " solutions summing to "
                      << std::accumulate(ans[d].begin(), ans[d].end(), int64_t{0}) << std::endl;
        }
        int64_t sum{ 0 };
        for (size_t d = 0; d < 10; ++d) {
            sum = std::accumulate(ans[d].begin(), ans[d].end(), sum);
        }
        std::cout << "Total sum = " << sum << std::endl;
    }
}

// s(0) has  10 solutions summing to 0
// s(1) has  83 solutions summing to     22'786'974'071
// s(2) has  13 solutions summing to     73'737'982'962
// s(3) has  35 solutions summing to    372'647'999'625
// s(4) has  47 solutions summing to    741'999'999'540
// s(5) has   4 solutions summing to    100'000'000'000
// s(6) has  71 solutions summing to  2'434'703'999'430
// s(7) has  48 solutions summing to  1'876'917'059'570
// s(8) has 343 solutions summing to 15'312'327'487'352
// s(9) has   8 solutions summing to    360'000'000'000
// Total sum = 21'295'121'502'550

//1       1
//1       199981
//1       199982
//1       199983
//1       199984
//1       199985
//1       199986
//1       199987
//1       199988
//1       199989
//1       199990
//1       200000
//1       200001
//1       1599981
//1       1599982
//1       1599983
//1       1599984
//1       1599985
//1       1599986
//1       1599987
//1       1599988
//1       1599989
//1       1599990
//1       2600000
//1       2600001
//1       13199998
//2       28263827
//1       35000000
//2       35000000
//1       35000001
//1       35199981
//1       35199982
//1       35199983
//1       35199984
//1       35199985
//1       35199986
//1       35199987
//1       35199988
//1       35199989
//1       35199990
//1       35200000
//1       35200001
//1       117463825
//2       242463827
//3       371599983
//3       371599984
//3       371599985
//3       371599986
//3       371599987
//3       371599988
//3       371599989
//3       371599990
//3       371599991
//3       371599992
//4       499999984
//4       499999985
//4       499999986
//4       499999987
//4       499999988
//4       499999989
//4       499999990
//4       499999991
//4       499999992
//4       499999993
//1       500000000
//2       500000000
//3       500000000
//4       500000000
//1       500000001
//1       500199981
//1       500199982
//1       500199983
//1       500199984
//1       500199985
//1       500199986
//1       500199987
//1       500199988
//1       500199989
//1       500199990
//1       500200000
//1       500200001
//1       501599981
//1       501599982
//1       501599983
//1       501599984
//1       501599985
//1       501599986
//1       501599987
//1       501599988
//1       501599989
//1       501599990
//1       502600000
//1       502600001
//1       513199998
//2       528263827
//1       535000000
//2       535000000
//1       535000001
//1       535199981
//1       535199982
//1       535199983
//1       535199984
//1       535199985
//1       535199986
//1       535199987
//1       535199988
//1       535199989
//1       535199990
//1       535200000
//1       535200001
//1       1111111110
//7       9465000000
//8       9465000000
//7       9471736170
//8       9486799989
//8       9486799990
//8       9486799991
//8       9486799992
//8       9486799993
//8       9486799994
//8       9486799995
//8       9486799996
//8       9486799997
//8       9497400000
//8       9498399989
//8       9498399990
//8       9498399991
//8       9498399992
//8       9498399993
//8       9498399994
//8       9498399995
//8       9498399996
//8       9498399997
//6       9500000000
//7       9500000000
//8       9500000000
//6       9628399986
//6       9628399987
//6       9628399988
//6       9628399989
//6       9628399990
//6       9628399991
//6       9628399992
//6       9628399993
//6       9628399994
//6       9628399995
//7       9757536170
//8       9882536171
//7       9965000000
//8       9965000000
//7       9971736170
//8       9986799989
//8       9986799990
//8       9986799991
//8       9986799992
//8       9986799993
//8       9986799994
//8       9986799995
//8       9986799996
//8       9986799997
//8       9997400000
//8       9998399989
//8       9998399990
//8       9998399991
//8       9998399992
//8       9998399993
//8       9998399994
//8       9998399995
//8       9998399996
//8       9998399997
//2       10000000000
//3       10000000000
//4       10000000000
//5       10000000000
//6       10000000000
//7       10000000000
//8       10000000000
//9       10000000000
//2       10028263827
//2       10035000000
//2       10242463827
//3       10371599983
//3       10371599984
//3       10371599985
//3       10371599986
//3       10371599987
//3       10371599988
//3       10371599989
//3       10371599990
//3       10371599991
//3       10371599992
//4       10499999984
//4       10499999985
//4       10499999986
//4       10499999987
//4       10499999988
//4       10499999989
//4       10499999990
//4       10499999991
//4       10499999992
//4       10499999993
//2       10500000000
//3       10500000000
//4       10500000000
//2       10528263827
//2       10535000000
//7       19465000000
//8       19465000000
//7       19471736170
//8       19486799989
//8       19486799990
//8       19486799991
//8       19486799992
//8       19486799993
//8       19486799994
//8       19486799995
//8       19486799996
//8       19486799997
//8       19497400000
//8       19498399989
//8       19498399990
//8       19498399991
//8       19498399992
//8       19498399993
//8       19498399994
//8       19498399995
//8       19498399996
//8       19498399997
//6       19500000000
//7       19500000000
//8       19500000000
//6       19628399986
//6       19628399987
//6       19628399988
//6       19628399989
//6       19628399990
//6       19628399991
//6       19628399992
//6       19628399993
//6       19628399994
//6       19628399995
//7       19757536170
//8       19882536171
//7       19965000000
//8       19965000000
//7       19971736170
//8       19986799989
//8       19986799990
//8       19986799991
//8       19986799992
//8       19986799993
//8       19986799994
//8       19986799995
//8       19986799996
//8       19986799997
//8       19997400000
//8       19998399989
//8       19998399990
//8       19998399991
//8       19998399992
//8       19998399993
//8       19998399994
//8       19998399995
//8       19998399996
//8       19998399997
//3       20000000000
//4       20000000000
//5       20000000000
//6       20000000000
//7       20000000000
//8       20000000000
//9       20000000000
//3       20371599983
//3       20371599984
//3       20371599985
//3       20371599986
//3       20371599987
//3       20371599988
//3       20371599989
//3       20371599990
//3       20371599991
//3       20371599992
//4       20499999984
//4       20499999985
//4       20499999986
//4       20499999987
//4       20499999988
//4       20499999989
//4       20499999990
//4       20499999991
//4       20499999992
//4       20499999993
//3       20500000000
//4       20500000000
//7       29465000000
//8       29465000000
//7       29471736170
//8       29486799989
//8       29486799990
//8       29486799991
//8       29486799992
//8       29486799993
//8       29486799994
//8       29486799995
//8       29486799996
//8       29486799997
//8       29497400000
//8       29498399989
//8       29498399990
//8       29498399991
//8       29498399992
//8       29498399993
//8       29498399994
//8       29498399995
//8       29498399996
//8       29498399997
//6       29500000000
//7       29500000000
//8       29500000000
//6       29628399986
//6       29628399987
//6       29628399988
//6       29628399989
//6       29628399990
//6       29628399991
//6       29628399992
//6       29628399993
//6       29628399994
//6       29628399995
//7       29757536170
//8       29882536171
//7       29965000000
//8       29965000000
//7       29971736170
//8       29986799989
//8       29986799990
//8       29986799991
//8       29986799992
//8       29986799993
//8       29986799994
//8       29986799995
//8       29986799996
//8       29986799997
//8       29997400000
//8       29998399989
//8       29998399990
//8       29998399991
//8       29998399992
//8       29998399993
//8       29998399994
//8       29998399995
//8       29998399996
//8       29998399997
//4       30000000000
//5       30000000000
//6       30000000000
//7       30000000000
//8       30000000000
//9       30000000000
//4       30499999984
//4       30499999985
//4       30499999986
//4       30499999987
//4       30499999988
//4       30499999989
//4       30499999990
//4       30499999991
//4       30499999992
//4       30499999993
//4       30500000000
//7       39465000000
//8       39465000000
//7       39471736170
//8       39486799989
//8       39486799990
//8       39486799991
//8       39486799992
//8       39486799993
//8       39486799994
//8       39486799995
//8       39486799996
//8       39486799997
//8       39497400000
//8       39498399989
//8       39498399990
//8       39498399991
//8       39498399992
//8       39498399993
//8       39498399994
//8       39498399995
//8       39498399996
//8       39498399997
//6       39500000000
//7       39500000000
//8       39500000000
//6       39628399986
//6       39628399987
//6       39628399988
//6       39628399989
//6       39628399990
//6       39628399991
//6       39628399992
//6       39628399993
//6       39628399994
//6       39628399995
//7       39757536170
//8       39882536171
//7       39965000000
//8       39965000000
//7       39971736170
//8       39986799989
//8       39986799990
//8       39986799991
//8       39986799992
//8       39986799993
//8       39986799994
//8       39986799995
//8       39986799996
//8       39986799997
//8       39997400000
//8       39998399989
//8       39998399990
//8       39998399991
//8       39998399992
//8       39998399993
//8       39998399994
//8       39998399995
//8       39998399996
//8       39998399997
//5       40000000000
//6       40000000000
//7       40000000000
//8       40000000000
//9       40000000000
//7       49465000000
//8       49465000000
//7       49471736170
//8       49486799989
//8       49486799990
//8       49486799991
//8       49486799992
//8       49486799993
//8       49486799994
//8       49486799995
//8       49486799996
//8       49486799997
//8       49497400000
//8       49498399989
//8       49498399990
//8       49498399991
//8       49498399992
//8       49498399993
//8       49498399994
//8       49498399995
//8       49498399996
//8       49498399997
//6       49500000000
//7       49500000000
//8       49500000000
//6       49628399986
//6       49628399987
//6       49628399988
//6       49628399989
//6       49628399990
//6       49628399991
//6       49628399992
//6       49628399993
//6       49628399994
//6       49628399995
//7       49757536170
//8       49882536171
//7       49965000000
//8       49965000000
//7       49971736170
//8       49986799989
//8       49986799990
//8       49986799991
//8       49986799992
//8       49986799993
//8       49986799994
//8       49986799995
//8       49986799996
//8       49986799997
//8       49997400000
//8       49998399989
//8       49998399990
//8       49998399991
//8       49998399992
//8       49998399993
//8       49998399994
//8       49998399995
//8       49998399996
//8       49998399997
//6       50000000000
//7       50000000000
//8       50000000000
//9       50000000000
//7       59465000000
//8       59465000000
//7       59471736170
//8       59486799989
//8       59486799990
//8       59486799991
//8       59486799992
//8       59486799993
//8       59486799994
//8       59486799995
//8       59486799996
//8       59486799997
//8       59497400000
//8       59498399989
//8       59498399990
//8       59498399991
//8       59498399992
//8       59498399993
//8       59498399994
//8       59498399995
//8       59498399996
//8       59498399997
//6       59500000000
//7       59500000000
//8       59500000000
//6       59628399986
//6       59628399987
//6       59628399988
//6       59628399989
//6       59628399990
//6       59628399991
//6       59628399992
//6       59628399993
//6       59628399994
//6       59628399995
//7       59757536170
//8       59882536171
//7       59965000000
//8       59965000000
//7       59971736170
//8       59986799989
//8       59986799990
//8       59986799991
//8       59986799992
//8       59986799993
//8       59986799994
//8       59986799995
//8       59986799996
//8       59986799997
//8       59997400000
//8       59998399989
//8       59998399990
//8       59998399991
//8       59998399992
//8       59998399993
//8       59998399994
//8       59998399995
//8       59998399996
//8       59998399997
//7       60000000000
//8       60000000000
//9       60000000000
//7       69465000000
//8       69465000000
//7       69471736170
//8       69486799989
//8       69486799990
//8       69486799991
//8       69486799992
//8       69486799993
//8       69486799994
//8       69486799995
//8       69486799996
//8       69486799997
//8       69497400000
//8       69498399989
//8       69498399990
//8       69498399991
//8       69498399992
//8       69498399993
//8       69498399994
//8       69498399995
//8       69498399996
//8       69498399997
//7       69500000000
//8       69500000000
//7       69757536170
//8       69882536171
//7       69965000000
//8       69965000000
//7       69971736170
//8       69986799989
//8       69986799990
//8       69986799991
//8       69986799992
//8       69986799993
//8       69986799994
//8       69986799995
//8       69986799996
//8       69986799997
//8       69997400000
//8       69998399989
//8       69998399990
//8       69998399991
//8       69998399992
//8       69998399993
//8       69998399994
//8       69998399995
//8       69998399996
//8       69998399997
//8       70000000000
//9       70000000000
//8       79465000000
//8       79486799989
//8       79486799990
//8       79486799991
//8       79486799992
//8       79486799993
//8       79486799994
//8       79486799995
//8       79486799996
//8       79486799997
//8       79497400000
//8       79498399989
//8       79498399990
//8       79498399991
//8       79498399992
//8       79498399993
//8       79498399994
//8       79498399995
//8       79498399996
//8       79498399997
//8       79500000000
//8       79882536171
//8       79965000000
//8       79986799989
//8       79986799990
//8       79986799991
//8       79986799992
//8       79986799993
//8       79986799994
//8       79986799995
//8       79986799996
//8       79986799997
//8       79997400000
//8       79998399989
//8       79998399990
//8       79998399991
//8       79998399992
//8       79998399993
//8       79998399994
//8       79998399995
//8       79998399996
//8       79998399997
//9       80000000000
